<!DOCTYPE html>
<html>
<head>
    <title>ğŸš€è·¨å¢ƒå…¨æ¸ é“æ™ºèƒ½è®¡ä»·ç³»ç»ŸPro</title>
    <style>
        :root {--profit: #4CAF50; --loss: #f44336; --warning: #FFC107}
        body {font-family: 'Segoe UI', sans-serif; max-width: 1200px; margin: 20px auto; background: #f8f9fa}
        .dashboard {background: white; padding: 25px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.1)}
        .grid {display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 15px; margin: 15px 0}
        .param-group {margin: 10px 0}
        label {display: block; margin: 8px 0; color: #2c3e50; font-weight: 500}
        input, select {width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px}
        .hint {font-size: 0.85em; color: #666; margin-top: 3px}
        .result {background: #f8f9fa; padding: 15px; margin-top: 20px; border-radius: 5px}
        .warning {color: var(--warning); font-weight: bold}
        .profit {color: var(--profit)}
        .loss {color: var(--loss)}
        .comp-indicator {padding: 5px 10px; border-radius: 12px; display: inline-block}
    </style>
</head>
<body>
    <div class="dashboard">
        <h2>ğŸŒ è·¨å¢ƒå…¨æ¸ é“æ™ºèƒ½è®¡ä»·ç³»ç»Ÿ</h2>
        
        <!-- æ ¸å¿ƒå‚æ•°åŒº -->
        <div class="grid">
            <div class="param-group">
                <label>ğŸ·ï¸ å¹³å°é€‰æ‹©</label>
                <select id="platform">
                    <option value="amazon">äºšé©¬é€Šï¼ˆFBAå»ºè®®ï¼‰</option>
                    <option value="walmart">æ²ƒå°”ç›ï¼ˆéœ€éªŒå‚ï¼‰</option>
                    <option value="ebay">eBayï¼ˆé«˜é€€è´§é¢„è­¦ï¼‰</option>
                    <option value="temu">Temuï¼ˆä½ä»·ç­–ç•¥â‰¤$15ï¼‰</option>
                    <option value="etsy">Etsyï¼ˆæ‰‹å·¥å®šåˆ¶ï¼‰</option>
                    <option value="shein_full">Sheinå…¨æ‰˜ç®¡</option>
                    <option value="shein_half">SheinåŠæ‰˜ç®¡</option>
                </select>
                <div class="hint" id="platformTips"></div>
            </div>
            
            <div class="param-group">
                <label>ğŸ“¦ äº§å“ç±»ç›®</label>
                <select id="category">
                    <option value="3c" data-commission="8">3Cç”µå­ï¼ˆ8%ï¼‰</option>
                    <option value="home" data-commission="10">å®¶å±…ç”¨å“ï¼ˆ10%ï¼‰</option>
                    <option value="auto" data-commission="12">æ±½é…ï¼ˆ12%ï¼‰</option>
                    <option value="pet" data-commission="10">å® ç‰©ç”¨å“ï¼ˆ10%ï¼‰</option>
                    <option value="apparel" data-commission="15">æœè£…ï¼ˆ15%ï¼‰</option>
                    <option value="adult" data-commission="20">æˆäººç”¨å“ï¼ˆ20%ï¼‰</option>
                    <option value="beauty" data-commission="18">ç¾å¦†ï¼ˆ18%ï¼‰</option>
                    <option value="jewelry" data-commission="15">é¥°å“ï¼ˆ15%ï¼‰</option>
                    <option value="custom" data-commission="5">å®šåˆ¶æ‰‹å·¥ï¼ˆ5%+$1æœåŠ¡è´¹ï¼‰</option>
                </select>
                <div class="hint">å½“å‰ä½£é‡‘ç‡ï¼š<span id="commissionRate">8</span>%</div>
            </div>
        </div>

        <!-- æˆæœ¬å‚æ•°åŒº -->
        <div class="grid">
            <div class="param-group">
                <label>ğŸ’° é‡‡è´­æˆæœ¬ï¼ˆCNYï¼‰</label>
                <input type="number" id="costCNY" value="100" step="1">
                <div class="hint">å«åŒ…è£…/è®¤è¯ç­‰é™„åŠ æˆæœ¬</div>
            </div>
            
            <div class="param-group">
                <label>ğŸ¯ ç›®æ ‡åˆ©æ¶¦ç‡ï¼ˆ%ï¼‰</label>
                <input type="number" id="profitRate" value="30" step="1">
                <div class="hint">å»ºè®®ï¼š3Cç±»25-35%ï¼Œæœè£…ç±»35-45%</div>
            </div>
            
            <div class="param-group">
                <label>ğŸ›ƒ å…³ç¨ç¨ç‡ï¼ˆ%ï¼‰</label>
                <input type="number" id="tariffRate" value="0" step="1">
                <div class="hint">ç¾å›½800USDä»¥ä¸‹å…å¾</div>
            </div>
        </div>

        <!-- ç‰©æµåŠä¿ƒé”€åŒº -->
        <div class="grid">
            <div class="param-group">
                <label>ğŸ“¦ å•ä»¶è¿è´¹ï¼ˆUSDï¼‰</label>
                <input type="number" id="shippingUSD" value="3.5" step="0.1">
                <div class="hint">æ ¹æ®ä½“ç§¯é‡é‡æµ®åŠ¨Â±40%</div>
            </div>
            
            <div class="param-group">
                <label>ğŸ’± æ±‡ç‡ï¼ˆCNYâ†’USDï¼‰</label>
                <input type="number" id="exchangeRate" value="7.25" step="0.01">
                <div class="hint">è¿‘3æœˆæ³¢åŠ¨èŒƒå›´ï¼š7.1-7.4</div>
            </div>
            
            <div class="param-group">
                <label>ğŸ ä¿ƒé”€é¢„ç•™ï¼ˆ%ï¼‰</label>
                <input type="number" id="promotion" value="10" step="1">
                <div class="hint">Prime Day/é»‘äº”æŠ˜æ‰£ç©ºé—´</div>
            </div>
        </div>

        <!-- ç»“æœå±•ç¤ºåŒº -->
        <div class="result">
            <h3>ğŸ“Š å®šä»·ç­–ç•¥åˆ†æ</h3>
            <p>å®‰å…¨å”®ä»·èŒƒå›´ï¼š<span class="profit">$<span id="priceRange">0.00 - 0.00</span></span></p>
            <p>å³æ—¶åˆ©æ¶¦ç‡ï¼š<span id="profitPercent" class="profit">0</span>% | ä¿ƒé”€ååˆ©æ¶¦ç‡ï¼š<span id="promoProfit" class="warning">0</span>%</p>
            <p>ç«äº‰åŠ›æŒ‡æ•°ï¼š
                <span id="competitiveness" class="comp-indicator">0</span>/100 
                <span id="competitivenessTip" class="warning"></span>
            </p>
            
            <h3>ğŸš¨ é£é™©é¢„è­¦</h3>
            <div id="riskAssessment" class="warning"></div>
            
            <h3>ğŸ“¦ æˆæœ¬ç»“æ„</h3>
            <p>é‡‡è´­æˆæœ¬ï¼š$<span id="costUSD">0.00</span> | ç‰©æµï¼š$<span id="logistics">0.00</span></p>
            <p>å…³ç¨ï¼š$<span id="tariff">0.00</span> | ä½£é‡‘ï¼š$<span id="commission">0.00</span></p>
            <p>æœ€ç»ˆåˆ©æ¶¦ï¼š<span id="finalProfit" class="profit">$0.00</span></p>
        </div>
    </div>

<script>
// æ ¸å¿ƒå•†ä¸šé€»è¾‘ï¼ˆæ•´åˆç½‘é¡µ1/6/7çš„è¿è¥ç­–ç•¥ï¼‰
function calculate() {
    const params = {
        costCNY: Math.max(0, parseFloat(document.getElementById('costCNY').value)) || 0,
        profitRate: Math.max(0, parseFloat(document.getElementById('profitRate').value)) / 100 || 0,
        shippingUSD: Math.max(0, parseFloat(document.getElementById('shippingUSD').value)) || 0,
        tariffRate: Math.max(0, parseFloat(document.getElementById('tariffRate').value)) / 100 || 0,
        exchangeRate: Math.max(6.5, parseFloat(document.getElementById('exchangeRate').value)) || 7.25,
        commissionRate: parseFloat(document.querySelector('#category option:checked').dataset.commission) / 100,
        promotion: Math.max(0, parseFloat(document.getElementById('promotion').value)) / 100 || 0,
        platform: document.getElementById('platform').value,
        category: document.getElementById('category').value
    };

    // å¹³å°ç‰¹æ®Šç­–ç•¥å¤„ç†ï¼ˆç½‘é¡µ7çš„å¹³å°ç‰¹æ€§ï¼‰
    let platformAdjust = {
        temu: -0.15,    // Temuä½ä»·ç­–ç•¥
        etsy: 0.05,     // Etsyæ‰‹å·¥æº¢ä»·
        shein_full: 0.2 // Sheinå…¨æ‰˜ç®¡ä»·å·®
    }[params.platform] || 0;

    // æˆæœ¬è®¡ç®—ï¼ˆå«å…³ç¨å åŠ ï¼‰
    let costUSD = params.costCNY / params.exchangeRate;
    let tariff = costUSD * params.tariffRate;
    let serviceFee = params.category === 'custom' ? 1 : 0; // æ‰‹å·¥å®šåˆ¶æœåŠ¡è´¹
    
    // å¹³å°é™åˆ¶æ£€æµ‹ï¼ˆç½‘é¡µ7çš„åˆè§„è¦æ±‚ï¼‰
    if(params.platform === 'temu' && costUSD > 8) {
        document.getElementById('platformTips').innerHTML = 'âš ï¸ Temuå»ºè®®é‡‡è´­ä»·â‰¤$8';
        costUSD = Math.min(costUSD, 8);
    }

    // åŠ¨æ€å®šä»·æ¨¡å‹ï¼ˆç½‘é¡µ6çš„å®šä»·å…¬å¼ä¼˜åŒ–ï¼‰
    const totalCost = costUSD + params.shippingUSD + tariff + serviceFee;
    const basePrice = (totalCost * (1 + params.profitRate + platformAdjust)) / (1 - params.commissionRate);
    const promoPrice = basePrice * (1 - params.promotion);
    
    // ç«äº‰åŠ›è¯„ä¼°ï¼ˆä¸‰çº§è­¦ç¤ºç³»ç»Ÿï¼‰
    const priceSensitivity = {'3c':0.8, 'home':0.7, 'apparel':0.6}[params.category] || 0.5;
    const compScore = Math.min(100, (basePrice*priceSensitivity + params.profitRate*100)*0.8);
    
    // å¯è§†åŒ–è­¦ç¤ºç³»ç»Ÿ
    const compElement = document.getElementById('competitiveness');
    const tipElement = document.getElementById('competitivenessTip');
    if(compScore < 60) {
        compElement.className = 'comp-indicator loss';
        tipElement.innerHTML = 'ğŸ”´ å±é™©ï¼šè½å85%ç«å“';
    } else if(compScore >= 80) {
        compElement.className = 'comp-indicator profit';
        tipElement.innerHTML = 'ğŸŸ¢ å“è¶Šï¼šä¼˜äº80%ç«å“';
    } else {
        compElement.className = 'comp-indicator warning';
        tipElement.innerHTML = 'ğŸŸ¡ ä¸­ç­‰ï¼šå»ºè®®ä¼˜åŒ–ä»·æ ¼ç­–ç•¥';
    }

    // é£é™©æ£€æµ‹å¼•æ“ï¼ˆç½‘é¡µ6/8çš„åˆè§„è§„åˆ™ï¼‰
    const riskRules = [
        {condition: params.commissionRate > 0.15, message: 'âš ï¸ é«˜ä½£é‡‘ç±»ç›®éœ€ç¡®ä¿è½¬åŒ–ç‡'},
        {condition: params.platform === 'temu' && basePrice > 15, message: 'âš ï¸ Temuå»ºè®®å”®ä»·â‰¤$15'},
        {condition: params.tariffRate > 0, message: 'âš ï¸ å…³ç¨å¯èƒ½å½±å“æ¸…å…³æ—¶æ•ˆ'},
        {condition: params.category === 'apparel' && params.profitRate < 0.3, message: 'âš ï¸ æœè£…ç±»å»ºè®®35%+åˆ©æ¶¦ç‡'}
    ];
    const risks = riskRules.filter(r => r.condition).map(r => r.message);

    // ç»“æœè¾“å‡º
    document.getElementById('priceRange').textContent = `${promoPrice.toFixed(2)} - ${basePrice.toFixed(2)}`;
    document.getElementById('profitPercent').textContent = ((basePrice - totalCost)/basePrice*100).toFixed(1);
    document.getElementById('promoProfit').textContent = ((promoPrice - totalCost)/promoPrice*100).toFixed(1);
    document.getElementById('competitiveness').textContent = compScore.toFixed(0);
    document.getElementById('riskAssessment').innerHTML = risks.join(' Â· ') || 'âœ… å½“å‰å‚æ•°å¤„äºå®‰å…¨é˜ˆå€¼';
    document.getElementById('costUSD').textContent = costUSD.toFixed(2);
    document.getElementById('logistics').textContent = params.shippingUSD.toFixed(2);
    document.getElementById('tariff').textContent = tariff.toFixed(2);
    document.getElementById('commission').textContent = (basePrice * params.commissionRate).toFixed(2);
    document.getElementById('finalProfit').textContent = `$${(basePrice - totalCost - (basePrice * params.commissionRate)).toFixed(2)}`;
    
    // åˆ©æ¶¦ç‡é¢œè‰²æ ‡è®°
    document.getElementById('profitPercent').className = 
        document.getElementById('profitPercent').textContent < 15 ? 'loss' : 'profit';
}

// å®æ—¶è®¡ç®—
document.querySelectorAll('input, select').forEach(el => el.addEventListener('input', calculate));
calculate();
</script>
</body>
</html>